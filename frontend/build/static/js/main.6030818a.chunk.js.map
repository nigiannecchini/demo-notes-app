{"version":3,"sources":["libs/errorLib.js","components/ErrorBoundary.js","libs/contextLib.js","containers/Home.js","components/LoaderButton.js","libs/hooksLib.js","containers/Login.js","libs/awsLib.js","config.js","containers/Notes.js","containers/Signup.js","containers/NewNote.js","components/BillingForm.js","containers/Settings.js","containers/NotFound.js","components/AuthenticatedRoute.js","components/UnauthenticatedRoute.js","Routes.js","App.js","reportWebVitals.js","index.js"],"names":["logError","error","errorInfo","Sentry","scope","setExtras","onError","message","toString","Error","config","url","alert","ErrorBoundary","state","hasError","this","className","props","children","React","Component","AppContext","createContext","useAppContext","useContext","Home","useState","notes","setNotes","isAuthenticated","isLoading","setIsLoading","loadNotes","API","get","renderNotesList","to","ListGroup","Item","action","size","map","noteId","content","createdAt","trim","split","Date","toLocaleString","useEffect","a","onLoad","LoaderButton","disabled","Button","useFormFields","initialState","fields","setValues","event","target","id","value","Login","userHasAuthenticated","email","password","handleFieldChange","preventDefault","Auth","signIn","Form","onSubmit","Group","controlId","Label","Control","autoFocus","type","onChange","block","length","s3Upload","file","filename","now","name","Storage","vault","put","contentType","stored","key","MAX_ATTACHMENT_SIZE","process","REACT_APP_STAGE","STRIPE_KEY","s3","REGION","BUCKET","apiGateway","URL","cognito","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","Notes","str","useRef","useParams","history","useHistory","note","setNote","setContent","isDeleting","setIsDeleting","saveNote","body","current","attachment","push","deleteNote","del","window","confirm","loadNote","attachmentURL","as","e","rel","href","replace","files","variant","onClick","Signup","confirmPassword","confirmationCode","newUser","setNewUser","handleSubmit","signUp","username","handleConfirmationSubmit","confirmSignUp","Text","muted","NewNote","createNote","post","BillingForm","stripe","useStripe","elements","useElements","storage","isProcessing","setIsProcessing","isCardComplete","setIsCardComplete","cardElement","getElement","CardElement","createToken","token","min","placeholder","complete","options","style","base","fontSize","color","fontFamily","Settings","stripePromise","loadStripe","billUser","details","source","fonts","cssSrc","NotFound","AuthenticatedRoute","rest","useLocation","pathname","search","UnauthenticatedRoute","redirect","location","results","RegExp","exec","decodeURIComponent","querystring","Routes","exact","path","App","isAuthenticating","setIsAuthenticating","currentSession","signOut","Navbar","collapseOnSelect","bg","expand","Brand","Toggle","Collapse","Nav","activeKey","Link","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","dsn","Amplify","configure","mandatorySignIn","region","userPoolId","identityPoolId","userPoolWebClientId","bucket","endpoints","endpoint","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6030818a.chunk.js","sourcesContent":["import * as Sentry from \"@sentry/browser\";\n\nconst isLocal = process.env.NODE_ENV === \"development\";\n\nexport function initSentry() {\n  if (isLocal) {\n    return;\n  }\n\n  Sentry.init({ dsn: \"https://5f83aa2e21064e47bab8a1f308f940eb@sentry.io/5185720\" });\n}\n\nexport function logError(error, errorInfo = null) {\n  if (isLocal) {\n    return;\n  }\n\n  Sentry.withScope((scope) => {\n    errorInfo && scope.setExtras(errorInfo);\n    Sentry.captureException(error);\n  });\n}\n\nexport function onError(error) {\n  let errorInfo = {};\n  let message = error.toString();\n\n  // Auth errors\n  if (!(error instanceof Error) && error.message) {\n    errorInfo = error;\n    message = error.message;\n    error = new Error(message);\n    // API errors\n  } else if (error.config && error.config.url) {\n    errorInfo.url = error.config.url;\n  }\n\n  logError(error, errorInfo);\n\n  alert(message);\n}\n","import React from \"react\";\nimport { logError } from \"../libs/errorLib\";\nimport \"./ErrorBoundary.css\";\n\nexport default class ErrorBoundary extends React.Component {\n  state = { hasError: false };\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    logError(error, errorInfo);\n  }\n\n  render() {\n    return this.state.hasError ? (\n      <div className=\"ErrorBoundary text-center\">\n        <h3>Sorry there was a problem loading this page</h3>\n      </div>\n    ) : (\n      this.props.children\n    );\n  }\n}\n","import { useContext, createContext } from \"react\";\n\nexport const AppContext = createContext(null);\n\nexport function useAppContext() {\n  return useContext(AppContext);\n}\n","import React, { useState, useEffect } from \"react\";\nimport { API } from \"aws-amplify\";\nimport { Link } from \"react-router-dom\";\nimport { BsPencilSquare } from \"react-icons/bs\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { useAppContext } from \"../libs/contextLib\";\nimport { onError } from \"../libs/errorLib\";\nimport \"./Home.css\";\n\nexport default function Home() {\n  const [notes, setNotes] = useState([]);\n  const { isAuthenticated } = useAppContext();\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function onLoad() {\n      if (!isAuthenticated) {\n        return;\n      }\n\n      try {\n        const notes = await loadNotes();\n        setNotes(notes);\n      } catch (e) {\n        onError(e);\n      }\n\n      setIsLoading(false);\n    }\n\n    onLoad();\n  }, [isAuthenticated]);\n\n  function loadNotes() {\n    return API.get(\"notes\", \"/notes\");\n  }\n\n  function renderNotesList(notes) {\n    return (\n      <>\n        <LinkContainer to=\"/notes/new\">\n          <ListGroup.Item action className=\"py-3 text-nowrap text-truncate\">\n            <BsPencilSquare size={17} />\n            <span className=\"ml-2 font-weight-bold\">Create a new note</span>\n          </ListGroup.Item>\n        </LinkContainer>\n        {notes.map(({ noteId, content, createdAt }) => (\n          <LinkContainer key={noteId} to={`/notes/${noteId}`}>\n            <ListGroup.Item action>\n              <span className=\"font-weight-bold\">\n                {content.trim().split(\"\\n\")[0]}\n              </span>\n              <br />\n              <span className=\"text-muted\">\n                Created: {new Date(createdAt).toLocaleString()}\n              </span>\n            </ListGroup.Item>\n          </LinkContainer>\n        ))}\n      </>\n    );\n  }\n\n  function renderLander() {\n    return (\n      <div className=\"lander\">\n        <h1>Scratch</h1>\n        <p className=\"text-muted\">A simple note taking app</p>\n        <div className=\"pt-3\">\n          <Link to=\"/login\" className=\"btn btn-info btn-lg mr-3\">\n            Login\n          </Link>\n          <Link to=\"/signup\" className=\"btn btn-success btn-lg\">\n            Signup\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  function renderNotes() {\n    return (\n      <div className=\"notes\">\n        <h2 className=\"pb-3 mt-4 mb-3 border-bottom\">Your Notes</h2>\n        <ListGroup>{!isLoading && renderNotesList(notes)}</ListGroup>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"Home\">\n      {isAuthenticated ? renderNotes() : renderLander()}\n    </div>\n  );\n}\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport { BsArrowRepeat } from \"react-icons/bs\";\nimport \"./LoaderButton.css\";\n\nexport default function LoaderButton({\n  isLoading,\n  className = \"\",\n  disabled = false,\n  ...props\n}) {\n  return (\n    <Button\n      disabled={disabled || isLoading}\n      className={`LoaderButton ${className}`}\n      {...props}\n    >\n      {isLoading && <BsArrowRepeat className=\"spinning\" />}\n      {props.children}\n    </Button>\n  );\n}\n","import { useState } from \"react\";\n\nexport function useFormFields(initialState) {\n  const [fields, setValues] = useState(initialState);\n\n  return [\n    fields,\n    function(event) {\n      setValues({\n        ...fields,\n        [event.target.id]: event.target.value\n      });\n    }\n  ];\n}\n","import React, { useState } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport Form from \"react-bootstrap/Form\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { useAppContext } from \"../libs/contextLib\";\nimport { useFormFields } from \"../libs/hooksLib\";\nimport { onError } from \"../libs/errorLib\";\nimport \"./Login.css\";\n\nexport default function Login() {\n  const { userHasAuthenticated } = useAppContext();\n  const [isLoading, setIsLoading] = useState(false);\n  const [fields, handleFieldChange] = useFormFields({\n    email: \"\",\n    password: \"\"\n  });\n\n  function validateForm() {\n    return fields.email.length > 0 && fields.password.length > 0;\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    setIsLoading(true);\n\n    try {\n      await Auth.signIn(fields.email, fields.password);\n      userHasAuthenticated(true);\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"Login\">\n      <Form onSubmit={handleSubmit}>\n        <Form.Group size=\"lg\" controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            autoFocus\n            type=\"email\"\n            value={fields.email}\n            onChange={handleFieldChange}\n          />\n        </Form.Group>\n        <Form.Group size=\"lg\" controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            value={fields.password}\n            onChange={handleFieldChange}\n          />\n        </Form.Group>\n        <LoaderButton\n          block\n          size=\"lg\"\n          type=\"submit\"\n          isLoading={isLoading}\n          disabled={!validateForm()}\n        >\n          Login\n        </LoaderButton>\n      </Form>\n    </div>\n  );\n}\n","import { Storage } from \"aws-amplify\";\n\nexport async function s3Upload(file) {\n  const filename = `${Date.now()}-${file.name}`;\n\n  const stored = await Storage.vault.put(filename, file, {\n    contentType: file.type,\n  });\n\n  return stored.key;\n}\n","const dev = {\n  STRIPE_KEY: \"pk_test_v1amvR35uoCNduJfkqGB8RLD\",\n  s3: {\n    REGION: process.env.REACT_APP_REGION,\n    BUCKET: process.env.REACT_APP_BUCKET,\n  },\n  apiGateway: {\n    REGION: process.env.REACT_APP_REGION,\n    URL: process.env.REACT_APP_API_URL,\n  },\n  cognito: {\n    REGION: process.env.REACT_APP_REGION,\n    USER_POOL_ID: process.env.REACT_APP_USER_POOL_ID,\n    APP_CLIENT_ID: process.env.REACT_APP_USER_POOL_CLIENT_ID,\n    IDENTITY_POOL_ID: process.env.REACT_APP_IDENTITY_POOL_ID,\n  },\n};\n\nconst prod = {\n  STRIPE_KEY: \"pk_test_v1amvR35uoCNduJfkqGB8RLD\",\n  s3: {\n    REGION: process.env.REACT_APP_REGION,\n    BUCKET: process.env.REACT_APP_BUCKET,\n  },\n  apiGateway: {\n    REGION: process.env.REACT_APP_REGION,\n    URL: process.env.REACT_APP_API_URL,\n  },\n  cognito: {\n    REGION: process.env.REACT_APP_REGION,\n    USER_POOL_ID: process.env.REACT_APP_USER_POOL_ID,\n    APP_CLIENT_ID: process.env.REACT_APP_USER_POOL_CLIENT_ID,\n    IDENTITY_POOL_ID: process.env.REACT_APP_IDENTITY_POOL_ID,\n  },\n};\n\nconst config = {\n  // Add common config values here\n  MAX_ATTACHMENT_SIZE: 5000000,\n  // Default to dev if not set\n  ...(process.env.REACT_APP_STAGE === \"prod\" ? prod : dev),\n};\n\nexport default config;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { API, Storage } from \"aws-amplify\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { onError } from \"../libs/errorLib\";\nimport { s3Upload } from \"../libs/awsLib\";\nimport config from \"../config\";\nimport \"./Notes.css\";\n\nexport default function Notes() {\n  const file = useRef(null);\n  const { id } = useParams();\n  const history = useHistory();\n  const [note, setNote] = useState(null);\n  const [content, setContent] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  useEffect(() => {\n    function loadNote() {\n      return API.get(\"notes\", `/notes/${id}`);\n    }\n\n    async function onLoad() {\n      try {\n        const note = await loadNote();\n        const { content, attachment } = note;\n\n        if (attachment) {\n          note.attachmentURL = await Storage.vault.get(attachment);\n        }\n\n        setContent(content);\n        setNote(note);\n      } catch (e) {\n        onError(e);\n      }\n    }\n\n    onLoad();\n  }, [id]);\n\n  function validateForm() {\n    return content.length > 0;\n  }\n\n  function formatFilename(str) {\n    return str.replace(/^\\w+-/, \"\");\n  }\n\n  function handleFileChange(event) {\n    file.current = event.target.files[0];\n  }\n\n  function saveNote(note) {\n    return API.put(\"notes\", `/notes/${id}`, {\n      body: note\n    });\n  }\n\n  async function handleSubmit(event) {\n    let attachment;\n\n    event.preventDefault();\n\n    if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n      alert(\n        `Please pick a file smaller than ${\n          config.MAX_ATTACHMENT_SIZE / 1000000\n        } MB.`\n      );\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      if (file.current) {\n        attachment = await s3Upload(file.current);\n      }\n\n      await saveNote({\n        content,\n        attachment: attachment || note.attachment\n      });\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n\n  function deleteNote() {\n    return API.del(\"notes\", `/notes/${id}`);\n  }\n\n  async function handleDelete(event) {\n    event.preventDefault();\n\n    const confirmed = window.confirm(\n      \"Are you sure you want to delete this note?\"\n    );\n\n    if (!confirmed) {\n      return;\n    }\n\n    setIsDeleting(true);\n\n    try {\n      await deleteNote();\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsDeleting(false);\n    }\n  }\n\n  return (\n    <div className=\"Notes\">\n      {note && (\n        <Form onSubmit={handleSubmit}>\n          <Form.Group controlId=\"content\">\n            <Form.Control\n              as=\"textarea\"\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"file\">\n            <Form.Label>Attachment</Form.Label>\n            {note.attachment && (\n              <p>\n                <a\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href={note.attachmentURL}\n                >\n                  {formatFilename(note.attachment)}\n                </a>\n              </p>\n            )}\n            <Form.Control onChange={handleFileChange} type=\"file\" />\n          </Form.Group>\n          <LoaderButton\n            block\n            size=\"lg\"\n            type=\"submit\"\n            isLoading={isLoading}\n            disabled={!validateForm()}\n          >\n            Save\n          </LoaderButton>\n          <LoaderButton\n            block\n            size=\"lg\"\n            variant=\"danger\"\n            onClick={handleDelete}\n            isLoading={isDeleting}\n          >\n            Delete\n          </LoaderButton>\n        </Form>\n      )}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport Form from \"react-bootstrap/Form\";\nimport { useHistory } from \"react-router-dom\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { useAppContext } from \"../libs/contextLib\";\nimport { useFormFields } from \"../libs/hooksLib\";\nimport { onError } from \"../libs/errorLib\";\nimport \"./Signup.css\";\n\nexport default function Signup() {\n  const [fields, handleFieldChange] = useFormFields({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    confirmationCode: \"\",\n  });\n  const history = useHistory();\n  const [newUser, setNewUser] = useState(null);\n  const { userHasAuthenticated } = useAppContext();\n  const [isLoading, setIsLoading] = useState(false);\n\n  function validateForm() {\n    return (\n      fields.email.length > 0 &&\n      fields.password.length > 0 &&\n      fields.password === fields.confirmPassword\n    );\n  }\n\n  function validateConfirmationForm() {\n    return fields.confirmationCode.length > 0;\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    setIsLoading(true);\n\n    try {\n      const newUser = await Auth.signUp({\n        username: fields.email,\n        password: fields.password,\n      });\n      setIsLoading(false);\n      setNewUser(newUser);\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n\n  async function handleConfirmationSubmit(event) {\n    event.preventDefault();\n\n    setIsLoading(true);\n\n    try {\n      await Auth.confirmSignUp(fields.email, fields.confirmationCode);\n      await Auth.signIn(fields.email, fields.password);\n\n      userHasAuthenticated(true);\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n\n  function renderConfirmationForm() {\n    return (\n      <Form onSubmit={handleConfirmationSubmit}>\n        <Form.Group controlId=\"confirmationCode\" size=\"lg\">\n          <Form.Label>Confirmation Code</Form.Label>\n          <Form.Control\n            autoFocus\n            type=\"tel\"\n            onChange={handleFieldChange}\n            value={fields.confirmationCode}\n          />\n          <Form.Text muted>Please check your email for the code.</Form.Text>\n        </Form.Group>\n        <LoaderButton\n          block\n          size=\"lg\"\n          type=\"submit\"\n          variant=\"success\"\n          isLoading={isLoading}\n          disabled={!validateConfirmationForm()}\n        >\n          Verify\n        </LoaderButton>\n      </Form>\n    );\n  }\n\n  function renderForm() {\n    return (\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"email\" size=\"lg\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            autoFocus\n            type=\"email\"\n            value={fields.email}\n            onChange={handleFieldChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"password\" size=\"lg\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            value={fields.password}\n            onChange={handleFieldChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"confirmPassword\" size=\"lg\">\n          <Form.Label>Confirm Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            onChange={handleFieldChange}\n            value={fields.confirmPassword}\n          />\n        </Form.Group>\n        <LoaderButton\n          block\n          size=\"lg\"\n          type=\"submit\"\n          variant=\"success\"\n          isLoading={isLoading}\n          disabled={!validateForm()}\n        >\n          Signup\n        </LoaderButton>\n      </Form>\n    );\n  }\n\n  return (\n    <div className=\"Signup\">\n      {newUser === null ? renderForm() : renderConfirmationForm()}\n    </div>\n  );\n}\n","import React, { useRef, useState } from \"react\";\nimport { API } from \"aws-amplify\";\nimport Form from \"react-bootstrap/Form\";\nimport { useHistory } from \"react-router-dom\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { onError } from \"../libs/errorLib\";\nimport { s3Upload } from \"../libs/awsLib\";\nimport config from \"../config\";\nimport \"./NewNote.css\";\n\nexport default function NewNote() {\n  const file = useRef(null);\n  const history = useHistory();\n  const [content, setContent] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  function validateForm() {\n    return content.length > 0;\n  }\n\n  function handleFileChange(event) {\n    file.current = event.target.files[0];\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n      alert(\n        `Please pick a file smaller than ${\n          config.MAX_ATTACHMENT_SIZE / 1000000\n        } MB.`\n      );\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const attachment = file.current ? await s3Upload(file.current) : null;\n\n      await createNote({ content, attachment });\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n\n  function createNote(note) {\n    return API.post(\"notes\", \"/notes\", {\n      body: note\n    });\n  }\n\n  return (\n    <div className=\"NewNote\">\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"content\">\n          <Form.Control\n            value={content}\n            as=\"textarea\"\n            onChange={(e) => setContent(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"file\">\n          <Form.Label>Attachment</Form.Label>\n          <Form.Control onChange={handleFileChange} type=\"file\" />\n        </Form.Group>\n        <LoaderButton\n          block\n          type=\"submit\"\n          size=\"lg\"\n          variant=\"primary\"\n          isLoading={isLoading}\n          disabled={!validateForm()}\n        >\n          Create\n        </LoaderButton>\n      </Form>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { CardElement,useStripe, useElements } from '@stripe/react-stripe-js'\nimport LoaderButton from \"./LoaderButton\";\nimport { useFormFields } from \"../libs/hooksLib\";\nimport \"./BillingForm.css\";\n\nfunction BillingForm({ isLoading, onSubmit, ...props }) {\n  const stripe = useStripe();\n  const elements = useElements();\n  const [fields, handleFieldChange] = useFormFields({\n    name: \"\",\n    storage: \"\",\n  });\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isCardComplete, setIsCardComplete] = useState(false);\n\n  isLoading = isProcessing || isLoading;\n\n  function validateForm() {\n    return fields.name !== \"\" && fields.storage !== \"\" && isCardComplete;\n  }\n\n  async function handleSubmitClick(event) {\n    event.preventDefault();\n\n    setIsProcessing(true);\n\n    const cardElement = elements.getElement(CardElement);\n\n    const { token, error } = await stripe.createToken(cardElement);\n\n    setIsProcessing(false);\n\n    onSubmit(fields.storage, { token, error });\n  }\n\n  return (\n    <Form className=\"BillingForm\" onSubmit={handleSubmitClick}>\n      <Form.Group size=\"lg\" controlId=\"storage\">\n        <Form.Label>Storage</Form.Label>\n        <Form.Control\n          min=\"0\"\n          type=\"number\"\n          value={fields.storage}\n          onChange={handleFieldChange}\n          placeholder=\"Number of notes to store\"\n        />\n      </Form.Group>\n      <hr />\n      <Form.Group size=\"lg\" controlId=\"name\">\n        <Form.Label>Cardholder&apos;s name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          value={fields.name}\n          onChange={handleFieldChange}\n          placeholder=\"Name on the card\"\n        />\n      </Form.Group>\n      <Form.Label>Credit Card Info</Form.Label>\n      <CardElement\n        className=\"card-field\"\n        onChange={(e) => setIsCardComplete(e.complete)}\n        options={{\n          style: {\n            base: {\n              fontSize: \"16px\",\n              color: \"#495057\",\n              fontFamily: \"'Open Sans', sans-serif\",\n            },\n          }\n        }}\n      />\n      <LoaderButton\n        block\n        size=\"lg\"\n        type=\"submit\"\n        isLoading={isLoading}\n        disabled={!validateForm()}\n      >\n        Purchase\n      </LoaderButton>\n    </Form>\n  );\n}\n\nexport default BillingForm;\n","import React, { useState } from \"react\";\nimport { API } from \"aws-amplify\";\nimport { useHistory } from \"react-router-dom\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from '@stripe/stripe-js';\nimport BillingForm from \"../components/BillingForm\";\nimport { onError } from \"../libs/errorLib\";\nimport config from \"../config\";\nimport \"./Settings.css\";\n\nexport default function Settings() {\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(false);\n  const stripePromise = loadStripe(config.STRIPE_KEY);\n\n  function billUser(details) {\n    return API.post(\"notes\", \"/billing\", {\n      body: details\n    });\n  }\n\n  async function handleFormSubmit(storage, { token, error }) {\n    if (error) {\n      onError(error);\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      await billUser({\n        storage,\n        source: token.id\n      });\n\n      alert(\"Your card has been charged successfully!\");\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"Settings\">\n        <Elements\n          fonts={[\n            {\n              cssSrc:\n                \"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800\",\n            },\n          ]}\n          stripe={stripePromise}\n        >\n          <BillingForm isLoading={isLoading} onSubmit={handleFormSubmit} />\n        </Elements>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./NotFound.css\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"NotFound text-center\">\n      <h3>Sorry, page not found!</h3>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Route, Redirect, useLocation } from \"react-router-dom\";\nimport { useAppContext } from \"../libs/contextLib\";\n\nexport default function AuthenticatedRoute({ children, ...rest }) {\n  const { pathname, search } = useLocation();\n  const { isAuthenticated } = useAppContext();\n  return (\n    <Route {...rest}>\n      {isAuthenticated ? (\n        children\n      ) : (\n        <Redirect to={\n          `/login?redirect=${pathname}${search}`\n        } />\n      )}\n    </Route>\n  );\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useAppContext } from \"../libs/contextLib\";\n\nfunction querystring(name, url = window.location.href) {\n  name = name.replace(/[[]]/g, \"\\\\$&\");\n\n  const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\n  const results = regex.exec(url);\n\n  if (!results) {\n    return null;\n  }\n  if (!results[2]) {\n    return \"\";\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nexport default function UnauthenticatedRoute({ children, ...rest }) {\n  const { isAuthenticated } = useAppContext();\n  const redirect = querystring(\"redirect\");\n  return (\n    <Route {...rest}>\n      {!isAuthenticated ? (\n        children\n      ) : (\n        <Redirect to={redirect === \"\" || redirect === null ? \"/\" : redirect} />\n      )}\n    </Route>\n  );\n}\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Home from \"./containers/Home\";\nimport Login from \"./containers/Login\";\nimport Notes from \"./containers/Notes\";\nimport Signup from \"./containers/Signup\";\nimport NewNote from \"./containers/NewNote\";\nimport Settings from \"./containers/Settings\";\nimport NotFound from \"./containers/NotFound\";\nimport AuthenticatedRoute from \"./components/AuthenticatedRoute\";\nimport UnauthenticatedRoute from \"./components/UnauthenticatedRoute\";\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <UnauthenticatedRoute exact path=\"/login\">\n        <Login />\n      </UnauthenticatedRoute>\n      <UnauthenticatedRoute exact path=\"/signup\">\n        <Signup />\n      </UnauthenticatedRoute>\n      <AuthenticatedRoute exact path=\"/settings\">\n        <Settings />\n      </AuthenticatedRoute>\n      <AuthenticatedRoute exact path=\"/notes/new\">\n        <NewNote />\n      </AuthenticatedRoute>\n      <AuthenticatedRoute exact path=\"/notes/:id\">\n        <Notes />\n      </AuthenticatedRoute>\n      {/* Finally, catch all unmatched routes */}\n      <Route>\n        <NotFound />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { useHistory } from \"react-router-dom\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport ErrorBoundary from \"./components/ErrorBoundary\";\nimport { AppContext } from \"./libs/contextLib\";\nimport { onError } from \"./libs/errorLib\";\nimport Routes from \"./Routes\";\nimport \"./App.css\";\n\nfunction App() {\n  const history = useHistory();\n  const [isAuthenticating, setIsAuthenticating] = useState(true);\n  const [isAuthenticated, userHasAuthenticated] = useState(false);\n\n  useEffect(() => {\n    onLoad();\n  }, []);\n\n  async function onLoad() {\n    try {\n      await Auth.currentSession();\n      userHasAuthenticated(true);\n    }\n    catch(e) {\n      if (e !== 'No current user') {\n        onError(e);\n      }\n    }\n\n    setIsAuthenticating(false);\n  }\n\n  async function handleLogout() {\n    await Auth.signOut();\n\n    userHasAuthenticated(false);\n\n    history.push(\"/login\");\n  }\n\n  return (\n    !isAuthenticating && (\n      <div className=\"App container py-3\">\n        <Navbar collapseOnSelect bg=\"light\" expand=\"md\" className=\"mb-3\">\n          <LinkContainer to=\"/\">\n            <Navbar.Brand className=\"font-weight-bold text-muted\">\n              Scratch\n            </Navbar.Brand>\n          </LinkContainer>\n          <Navbar.Toggle />\n          <Navbar.Collapse className=\"justify-content-end\">\n            <Nav activeKey={window.location.pathname}>\n              {isAuthenticated ? (\n                <>\n                  <LinkContainer to=\"/settings\">\n                    <Nav.Link>Settings</Nav.Link>\n                  </LinkContainer>\n                  <Nav.Link onClick={handleLogout}>Logout</Nav.Link>\n                </>\n              ) : (\n                <>\n                  <LinkContainer to=\"/signup\">\n                    <Nav.Link>Signup</Nav.Link>\n                  </LinkContainer>\n                  <LinkContainer to=\"/login\">\n                    <Nav.Link>Login</Nav.Link>\n                  </LinkContainer>\n                </>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        <ErrorBoundary>\n          <AppContext.Provider value={{ isAuthenticated, userHasAuthenticated }}>\n            <Routes />\n          </AppContext.Provider>\n        </ErrorBoundary>\n      </div>\n    )\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Amplify } from 'aws-amplify';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport config from './config';\nimport { initSentry } from './libs/errorLib';\nimport reportWebVitals from './reportWebVitals';\n\ninitSentry();\n\nAmplify.configure({\n  Auth: {\n    mandatorySignIn: true,\n    region: config.cognito.REGION,\n    userPoolId: config.cognito.USER_POOL_ID,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID,\n    userPoolWebClientId: config.cognito.APP_CLIENT_ID\n  },\n  Storage: {\n    region: config.s3.REGION,\n    bucket: config.s3.BUCKET,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID\n  },\n  API: {\n    endpoints: [\n      {\n        name: \"notes\",\n        endpoint: config.apiGateway.URL,\n        region: config.apiGateway.REGION\n      },\n    ]\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}